class SlideStories{constructor(id){this.slide=document.querySelector(`[data-slide="${id}"]`);this.active=0;this.init()}activeSlide(index){const profileImg=document.querySelector(".profile-img-wrapper");function slideInit(slideId){const slide=document.getElementById(slideId);if(slide){slide.classList.add("ativo");slide.addEventListener("click",(e)=>{if(e.target.id==slideId||e.target.className=="close-btn"){slide.classList.remove("ativo")}})}}profileImg.addEventListener("click",()=>slideInit("slide-container"));this.active=index;this.items.forEach((item)=>item.classList.remove("active"));this.items[index].classList.add("active");this.thumbItens.forEach((item)=>item.classList.remove("active"));this.thumbItens[index].classList.add("active");this.autoSlide()}prev(){if(this.active>0){this.activeSlide(this.active-1)}else{this.activeSlide(this.items.length-1)}}next(){if(this.active<this.items.length-1){this.activeSlide(this.active+1)}else{this.activeSlide(0)}}addNavigation(){const nextBtn=this.slide.querySelector(".slide-next");nextBtn.addEventListener("click",this.next);const prevBtn=this.slide.querySelector(".slide-prev");prevBtn.addEventListener("click",this.prev)}addthumbItems(){this.items.forEach(()=>(this.thumb.innerHTML+="<span></span>"));this.thumbItens=Array.from(this.thumb.children)}autoSlide(){clearTimeout(this.timeOut);this.timeOut=setTimeout(this.next,5000)}init(){this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.items=this.slide.querySelectorAll(".slide-items > *");this.thumb=this.slide.querySelector(".slide-thumb");this.addthumbItems();this.activeSlide(0);this.addNavigation()}}new SlideStories("slide");function initTabNavigation(){const tabs=Array.from(document.querySelectorAll("[data-tab]"));const contents=Array.from(document.querySelectorAll(".tab-content"));function activateTab(tab){tabs.forEach((t)=>{t.classList.toggle("active",t===tab);t.setAttribute("aria-selected",t===tab?"true":"false")})}function activateContent(content){contents.forEach((c)=>{c.classList.toggle("active",c.id===content.id)})}function handleClick(e){const tab=e.target.closest("[data-tab]");const content=document.getElementById(tab.dataset.tab);if(tab&&content){activateTab(tab);activateContent(content)}}tabs.forEach((tab)=>{tab.addEventListener("click",handleClick)})}initTabNavigation();function initProfile(){const header=document.getElementById("profile");const form=document.getElementById("form");const loading=document.querySelector(".loading-wrapper");const imagePreview=document.getElementById("image-preview");const input=document.querySelector("input[type=file]");function renderProfile(profile){if(!profile){return}const{name,age,location,bio,image}=profile;const imageSrc=image.name.length>0?URL.createObjectURL(image):"assets/img/img1.jpg";header.innerHTML=`<div class="profile-img-wrapper"><img class="profile-image"src="${imageSrc}"alt=""></div><div class="profile-info"><h1 class="name">${name}, <span>${age} ${age>1?"anos":"ano"}</span></h1><h2 class="location"><img class="svg"src="./assets/icons/location.svg"><span>${location}</span></h2><ul class="stats-list"><li class="stats-item"><span>252</span>publicações</li><li class="stats-item"><span>17.7K</span>seguidores</li><li class="stats-item"><span>62</span>seguindo</li></ul><p class="bio">${bio}</p></div>`}function handleImagePreview(){input.addEventListener("change",(e)=>{const file=URL.createObjectURL(e.target.files[0]);imagePreview.src=file;imagePreview.classList.add("image-preview")})}function handleSubmitForm(){form.addEventListener("submit",(e)=>{e.preventDefault();const formData=new FormData(form);const name=formData.get("name");const age=formData.get("age");const location=formData.get("location");const bio=formData.get("bio");const image=formData.get("image");renderProfile({name,age,location,bio,image});loading.classList.add("active");setTimeout(()=>{imagePreview.src="";imagePreview.classList.remove("image-preview");loading.classList.remove("active")},500)})}handleImagePreview();handleSubmitForm()}initProfile()